# URL public của Jitsi (subdomain riêng)
PUBLIC_URL=https://meet.tathanhan.vn

# Cấu hình XMPP domain nội bộ của jitsi
XMPP_DOMAIN=meet-jitsi
XMPP_AUTH_DOMAIN=auth.meet-jitsi
XMPP_MUC_DOMAIN=muc.meet-jitsi
XMPP_INTERNAL_MUC_DOMAIN=internal-muc.meet-jitsi
XMPP_RECORDER_DOMAIN=recorder.meet-jitsi

# Secret mặc định (tự đặt chuỗi mạnh)
JICOFO_COMPONENT_SECRET=$(openssl rand -hex 16)
JICOFO_AUTH_PASSWORD=$(openssl rand -hex 16)
JVB_AUTH_PASSWORD=$(openssl rand -hex 16)

# Web & websocket
ENABLE_XMPP_WEBSOCKET=1
ENABLE_COLIBRI_WEBSOCKET=1

# Chạy HTTPS ở Nginx reverse proxy bên ngoài, không để web container tự lấy cert
DISABLE_HTTPS=1
ENABLE_HTTP_REDIRECT=1

# Cho phép embed Jitsi vào Rocket.Chat (iframe)
ENABLE_CSP=1
# Cho phép frame-ancestors là chính Jitsi và Rocket.Chat
CSP_FRAME_ANCESTORS='self' https://chat.tathanhan.vn https://*.tathanhan.vn
# (Tuỳ chọn) nới X-Frame-Options nếu cần
X_FRAME_OPTIONS=ALLOWALL

# Thiết lập JVB quảng bá IP public (quan trọng nếu sau NAT / Cloudflare)
DOCKER_HOST_ADDRESS=YOUR_PUBLIC_IP
JVB_ADVERTISE_IPS=YOUR_PUBLIC_IP
JVB_PORT=10000
JVB_TCP_HARVESTER_DISABLED=true

# Khác
PROSODY_AUTH_TYPE=internal_hashed
TZ=Asia/Bangkok
